import{u as v,r as N,j as e,c as b}from"./index-B15hoXzW.js";import{fU as w,fe as y,fy as c}from"./zod-ByRmhcv1.js";import{u as k,I as m}from"./label-De9_JVqc.js";import{B as t}from"./button-D_vhudIU.js";import{C as E,e as F,h as C,b as I,i as L}from"./indexedDBUtils-DxKd99py.js";import{F as M,a as d,b as x,c as u,d as h,e as f,L as S}from"./logo-rakamin-CgQYi1OZ.js";import{c as B,u as q}from"./useAuthStore-B82fMkBv.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],P=B("mail",A),R=y({email:c().email("Invalid email address"),password:c().min(6,"Password must be at least 6 characters")});function z({className:j,...p}){const l=q(s=>s.setIsLoggedIn),i=v(),a=k({resolver:w(R),defaultValues:{email:"",password:""}}),[n,o]=N.useState(null),g=async s=>{try{const r=await L(s.email,s.password);r?.role==="admin"?(l(!0),i("/dashboard/admin/job-list")):r?.role==="user"?(l(!0),i("/dashboard/user/job-list")):o("Invalid email or password.")}catch{o("Login failed. Please try again.")}};return e.jsx("div",{className:b("flex flex-col gap-6",j),...p,children:e.jsxs(E,{className:"px-5",children:[e.jsxs(F,{className:"text-start",children:[e.jsx(C,{className:"text-xl",children:"Masuk ke Rakamin"}),e.jsxs("div",{className:"text-sm",children:["Belum punya akun?"," ",e.jsx("a",{href:"/auth/sign-up",className:"underline underline-offset-4 text-[#01959f]",children:"Daftar menggunakan email"})]})]}),e.jsx(I,{children:e.jsx(M,{...a,children:e.jsx("form",{onSubmit:a.handleSubmit(g),children:e.jsx("div",{className:"grid gap-6",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsx(d,{control:a.control,name:"email",render:({field:s})=>e.jsxs(x,{children:[e.jsx(u,{className:"font-light",children:"Alamat Email"}),e.jsx(h,{children:e.jsx(m,{type:"email",placeholder:"Masukkan email",...s,required:!0})}),e.jsx(f,{})]})}),e.jsx(d,{control:a.control,name:"password",render:({field:s})=>e.jsxs(x,{children:[e.jsx(u,{className:"font-light",children:"Kata Sandi"}),e.jsx(h,{children:e.jsx(m,{type:"password",...s,placeholder:"Masukkan kata sandi",required:!0})}),e.jsx(f,{})]})}),e.jsx("a",{href:"#",className:"ml-auto text-sm underline-offset-2 hover:underline text-[#01959f]",children:"Lupa kata sandi?"}),e.jsx(t,{type:"submit",className:"w-full cursor-pointer bg-[#FBC037] hover:bg-amber-500 hover:text-white text-primary font-bold",children:"Masuk"}),n&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("small",{className:"text-red-500",children:n})}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"flex-1 border-t border-[#9E9E9E]"}),e.jsx("span",{className:"mx-4 text-sm text-[#9E9E9E]",children:"or"}),e.jsx("div",{className:"flex-1 border-t border-[#9E9E9E]"})]}),e.jsxs(t,{variant:"outline",className:"w-full cursor-pointer hover:text-accent-foreground",type:"button",children:[e.jsx(P,{}),"Kirim link login melalui email"]}),e.jsxs(t,{variant:"outline",className:"w-full cursor-pointer hover:text-accent-foreground",type:"button",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z",fill:"currentColor"})}),"Daftar dengan Google"]})]})})})})})]})})}function V(){return e.jsx("div",{className:"bg-muted flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10",children:e.jsxs("div",{className:"flex w-full max-w-lg flex-col gap-4",children:[e.jsx("a",{href:"/",children:e.jsx("img",{src:S,alt:"Rakamin Academy",className:"h-14"})}),e.jsx(z,{})]})})}export{V as default};
