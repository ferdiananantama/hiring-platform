import{j as b,c as m}from"./index-C5FY6fwz.js";function $({className:t,...e}){return b.jsx("div",{"data-slot":"card",className:m("bg-card text-card-foreground flex flex-col gap-6 rounded-md border py-10 shadow-xs",t),...e})}function z({className:t,...e}){return b.jsx("div",{"data-slot":"card-header",className:m("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function G({className:t,...e}){return b.jsx("div",{"data-slot":"card-title",className:m("leading-none font-semibold",t),...e})}function Q({className:t,...e}){return b.jsx("div",{"data-slot":"card-content",className:m("px-6",t),...e})}const B=(t,e)=>e.some(r=>t instanceof r);let C,p;function N(){return C||(C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L(){return p||(p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g=new WeakMap,D=new WeakMap,I=new WeakMap;function O(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",o)},c=()=>{r(d(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",o)});return I.set(e,t),e}function v(t){if(g.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",o),t.removeEventListener("abort",o)},c=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",o),t.addEventListener("abort",o)});g.set(t,e)}let x={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return g.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return d(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A(t){x=t(x)}function W(t){return L().includes(t)?function(...e){return t.apply(E(this),e),d(this.request)}:function(...e){return d(t.apply(E(this),e))}}function _(t){return typeof t=="function"?W(t):(t instanceof IDBTransaction&&v(t),B(t,N())?new Proxy(t,x):t)}function d(t){if(t instanceof IDBRequest)return O(t);if(D.has(t))return D.get(t);const e=_(t);return e!==t&&(D.set(t,e),I.set(e,t)),e}const E=t=>I.get(t);function F(t,e,{blocked:r,upgrade:n,blocking:a,terminated:c}={}){const o=indexedDB.open(t,e),f=d(o);return n&&o.addEventListener("upgradeneeded",s=>{n(d(o.result),s.oldVersion,s.newVersion,d(o.transaction),s)}),r&&o.addEventListener("blocked",s=>r(s.oldVersion,s.newVersion,s)),f.then(s=>{c&&s.addEventListener("close",()=>c()),a&&s.addEventListener("versionchange",i=>a(i.oldVersion,i.newVersion,i))}).catch(()=>{}),f}const R=["get","getKey","getAll","getAllKeys","count"],V=["put","add","delete","clear"],w=new Map;function S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(w.get(e))return w.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=V.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||R.includes(r)))return;const c=async function(o,...f){const s=this.transaction(o,a?"readwrite":"readonly");let i=s.store;return n&&(i=i.index(f.shift())),(await Promise.all([i[r](...f),a&&s.done]))[0]};return w.set(e,c),c}A(t=>({...t,get:(e,r,n)=>S(e,r)||t.get(e,r,n),has:(e,r)=>!!S(e,r)||t.has(e,r)}));const k=["continue","continuePrimaryKey","advance"],M={},j=new WeakMap,T=new WeakMap,J={get(t,e){if(!k.includes(e))return t[e];let r=M[e];return r||(r=M[e]=function(...n){j.set(this,T.get(this)[e](...n))}),r}};async function*K(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,J);for(T.set(r,e),I.set(r,E(e));e;)yield r,e=await(j.get(r)||e.continue()),j.delete(r)}function P(t,e){return e===Symbol.asyncIterator&&B(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&B(t,[IDBIndex,IDBObjectStore])}A(t=>({...t,get(e,r,n){return P(e,r)?K:t.get(e,r,n)},has(e,r){return P(e,r)||t.has(e,r)}}));const U="TestDB",l="jobs",h="candidats",y="users",u=async()=>await F(U,3,{upgrade(e){e.objectStoreNames.contains(l)||e.createObjectStore(l,{keyPath:"id",autoIncrement:!0}),e.objectStoreNames.contains(h)||e.createObjectStore(h,{keyPath:"id",autoIncrement:!0}),e.objectStoreNames.contains(y)||e.createObjectStore(y,{keyPath:"email"})}}),X=async t=>{try{return await(await u()).get(l,t)}catch(e){console.error("Error fetching job by id from IndexedDB:",e);return}},Y=async t=>{try{const e=await u(),r={...t,id:t.id||Date.now()};await e.put(l,r)}catch(e){console.error("Error adding job to IndexedDB:",e)}},Z=async t=>{try{const e=await u(),r={...t,id:t.id||Date.now()};await e.put(h,r)}catch(e){console.error("Error adding profile to IndexedDB:",e)}},q=async()=>{try{return await(await u()).getAll(l)}catch(t){return console.error("Error fetching jobs from IndexedDB:",t),[]}},ee=async()=>{try{return await(await u()).getAll(h)}catch(t){return console.error("Error fetching Configuration from IndexedDB:",t),[]}},te=async t=>{try{const e=await u(),r={...t};await e.put(y,r),console.log("User added to IndexedDB successfully")}catch(e){console.error("Error adding user to IndexedDB:",e)}},re=async(t,e)=>{try{const n=await(await u()).get(y,t);return n&&n.password===e?n:void 0}catch(r){console.error("Error fetching user from IndexedDB:",r);return}};export{$ as C,Y as a,Q as b,ee as c,X as d,z as e,Z as f,q as g,G as h,re as i,te as j};
